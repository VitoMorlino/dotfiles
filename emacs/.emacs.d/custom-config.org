Note To Self:
- To insert a blank code block, type <s [tab]
- The #+BEGIN_SRC line must include "emacs-lisp"
- To insert an emacs-lisp code block specifically, type <el [tab]
  (because we told it to do that in the Org-mode section below

* use-package
** Always ensure used packages are installed
#+BEGIN_SRC emacs-lisp
  (setq use-package-always-ensure t)
#+END_SRC
* General Settings

** Don't show the Startup Screen
#+BEGIN_SRC emacs-lisp
  (setq inhibit-startup-screen t)
#+END_SRC

** Location of M-x Customize file
When using the built-in Customize menu, save changes to a separate file, not in init.el
#+BEGIN_SRC emacs-lisp
  (setq custom-file (expand-file-name "customize-auto-generated.el" user-emacs-directory))
  (load custom-file)
#+END_SRC

** Quickly visit emacs config
#+BEGIN_SRC emacs-lisp
  (defun vjm/edit-emacs-config ()
    (interactive)
    (find-file "~/.emacs.d/custom-config.org"))

  (global-set-key (kbd "C-c e") 'vjm/edit-emacs-config)
#+END_SRC

** Reload init file
#+BEGIN_SRC emacs-lisp
  (defun vjm/reload-init-file ()
    (interactive)
    (load-file user-init-file))

  (global-set-key (kbd "C-c r") 'vjm/reload-init-file)
#+END_SRC
** Theme
#+BEGIN_SRC emacs-lisp
  (load-theme 'tango-dark)
#+END_SRC

** Enable iBuffer
#+BEGIN_SRC emacs-lisp
  (global-set-key (kbd "C-x C-b") 'ibuffer)
#+END_SRC

** Comment/Uncomment Region or Line
#+BEGIN_SRC emacs-lisp
  (defun vjm/comment-or-uncomment-region-or-line ()
    "Comments or uncomments the region or the current line if
  there's no active region."
    (interactive)
    (let (beg end)
      (if (region-active-p)
	  (setq beg (region-beginning) end (region-end))
	(setq beg (line-beginning-position) end (line-end-position)))
      (comment-or-uncomment-region beg end)))

  (global-set-key (kbd "C-;") 'vjm/comment-or-uncomment-region-or-line)) 
#+END_SRC

** Change text size
#+BEGIN_SRC emacs-lisp
  (defun vjm/reset-text-size ()
    (interactive)
    (text-scale-set 0))

  (define-key global-map (kbd "C-)") 'vjm/reset-text-size)
  (define-key global-map (kbd "C-+") 'text-scale-increase)
  (define-key global-map (kbd "C-_") 'text-scale-decrease)
#+END_SRC
* Dired
** Open file in its default program
#+BEGIN_SRC emacs-lisp
  (defun vjm/dired-open-file-default-program (&optional arg file-list)
    (interactive
     (let ((files (dired-get-marked-files t current-prefix-arg)))
       (list
	current-prefix-arg
	files)))
    (dired-do-shell-command "open" arg file-list))

  (eval-after-load "dired" '(progn
			      (define-key dired-mode-map (kbd "M-<return>") 'vjm/dired-open-file-default-program) ))
#+END_SRC
* IDO
Interactively Do Things
** Enable IDO mode
#+BEGIN_SRC emacs-lisp
  (setq ido-enable-flex-matching t)
  (setq ido-everwhere t)
  (ido-mode 1)
#+END_SRC

** IDO Vertical
#+BEGIN_SRC emacs-lisp
  (use-package ido-vertical-mode
    :ensure t
    :init ;lines under :init are only executed after the package is initialized
    (ido-vertical-mode 1))
  (setq ido-vertical-define-keys 'C-n-and-C-p-only) 
#+END_SRC

** SMEX
#+BEGIN_SRC emacs-lisp
  (use-package smex
    :ensure t
    :init (smex-initialize)
    :bind
    ("M-x" . smex))
#+END_SRC

* Org-mode
Shortcut to insert a block of elisp
#+BEGIN_SRC emacs-lisp
  (add-to-list 'org-structure-template-alist
	       '("el" "#+BEGIN_SRC emacs-lisp\n?\n#+END_SRC"))
#+END_SRC

When editing a code snippet (with C-c '), use current window instead of opening new one
#+BEGIN_SRC emacs-lisp
  (setq org-src-window-setup 'current-window)
#+END_SRC
